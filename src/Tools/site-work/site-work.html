<!DOCTYPE html>
<html>
    <head>
        <title>Site Work</title>
        <link rel="stylesheet" href="./site-work.css" />
        <script src="/Rain-Support-Tools/src/common/vue/vue.global.prod.js"></script>
        <script src="https://kit.fontawesome.com/8e52a98e38.js" crossorigin="anonymous"></script>
        <script src="./siteWorkCtrl.js" type="module"></script>
        <!-- Sharepoint Upload -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.7/axios.min.js"></script>
        <script src="/Rain-Support-Tools/src/Tools/share-point/SharePointUpload.js" type="module"></script>
        <link rel="stylesheet" href="/Rain-Support-Tools/src/Tools/share-point/SharePointUpload.css" />
        <!-- End Sharepoint Upload -->
        <meta title="Site Work" />
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZBB64CR2LL"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ZBB64CR2LL');
        </script>
    </head>
    <body id="site-work-container">
        <div class="menu-wrapper">
            <nav-menu></nav-menu>
            <script src="/Rain-Support-Tools/src/common/navigation/nav-builder.js" type="module"></script>
        </div>
        <h1>
            Site Work Ticket - Design by Russell Lee
        </h1>
        <div class="body-container">
            <div id="info-tabs">
                <div id="work-tab" step="1" class="active">
                    <div class="step-circle">1</div>
                    Work Type
                </div>
                <div id="info-tab" step="2">
                    <div class="step-circle">2</div>
                    Work Info
                </div>
                <div id="confirm-tab" step="3">
                    <div class="step-circle">3</div>
                    Confirm
                </div>
            </div>
            <div class="container content">
                <validate-step-1 ref="validateStep1" :step="currentStep"></validate-step-1>
                <validate-site-work ref="validateSiteWork" :step="currentStep" :work-type="workType"></validate-site-work>
                <validate-template-work ref="validateTemplateWork" :step="currentStep" :work-type="workType"></validate-template-work>
                <div id="confirm-content" data="3" :class="{'in-active': currentStep !== 3, 'active': currentStep === 3}">
                    
                </div>
            </div>
            <flow-ctrl-app 
            ref="flowCtrlApp"
            :max-step="3"
            :current-step="currentStep"
            @step-change-request="validateStepData"
            @step-changed="handleNextStep"
            @previous-step="handlePreviousStep"
            @finish="handleFinish"></flow-ctrl-app>
        </div>
        <ticket-data-ctrl ref="ticketDataCtrl"
        :ticket-data="ticketData"
        @reset-ticket="handleResetTicket"></ticket-data-ctrl>
        <error-ctrl ref="errorCtrl"></error-ctrl>
    </body>
</html>