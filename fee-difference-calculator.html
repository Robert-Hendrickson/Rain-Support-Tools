<!DOCTYPE html>
<html>
    <!--
        reference for build
        \Rain-Support-Tools\imgs\feedifferencebase.png
        quick ideas:
        1. amex button that hides or displays rate options for amex cards separately
           a. if amex is separate calculations will need to be run to find rows using amex rates for calculation
        2. popup import option to paste copied data. Needs to be broken down into a usable object for looping through to create table data. Potentially look into option of uploading a csv spreadsheet version.
    -->
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <link rel="stylesheet" href="/Rain-Support-Tools/css/fee-difference-calc.css">
        <script src="\Rain-Support-Tools\js\fee-difference-calc.js"></script>
    </head>
    <body>
        <div style="float: left; width: 100%;">
            <a style="text-decoration: unset;" href="/Rain-Support-Tools/">
                <input type="button" value="Home" />
            </a>
            <input type="button" value="Video Walkthrough" onclick="videoToggle('open')" />
        </div>
        <div id="transactions">
            <table>
                <thead>
                    <tr>
                        <th>Transaction Date</th>
                        <th>Transactions</th>
                        <th>Method</th>
                        <th>Status</th>
                        <th>Payout</th>
                        <th>Collected</th>
                        <th>Fees</th>
                        <th>Refunds</th>
                        <th>Net</th>
                        <th>New Fee</th>
                        <th>Difference</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div id="rates">
            <div id="rateTables">
                <table id="cardPresent">
                    <thead>
                        <tr>
                            <th colspan="2">Card Present</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Fee Rate</td>
                            <td><input id="cardPresentRate" /></td>
                        </tr>
                        <tr>
                            <td>Amount per transaction</td>
                            <td><input id="cardPresentAmount" /></td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <table class="amex" id="amexcardPresent">
                    <thead>
                        <tr>
                            <th colspan="2">Amex Card Present</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Fee Rate</td>
                            <td><input id="amexcardPresentRate" /></td>
                        </tr>
                        <tr>
                            <td>Amount per transaction</td>
                            <td><input id="amexcardPresentAmount" /></td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <table id="cardNotPresent">
                    <thead>
                        <tr>
                            <th colspan="2">Card Not Present</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Fee Rate</td>
                            <td><input id="cardNotPresentRate" /></td>
                        </tr>
                        <tr>
                            <td>Amount per transaction</td>
                            <td><input id="cardNotPresentAmount" /></td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <table class="amex" id="amexcardNotPresent">
                    <thead>
                        <tr>
                            <th colspan="2">Amex Card Not Present</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Fee Rate</td>
                            <td><input id="amexcardNotPresentRate" /></td>
                        </tr>
                        <tr>
                            <td>Amount per transaction</td>
                            <td><input id="amexcardNotPresentAmount" /></td>
                        </tr>
                    </tbody>
                </table>
                <br />
            </div>
            <div id="amexSelector">
                <input type="checkbox" id="amexCheck" onclick="amexDisplayToggle()" />Different Amex Rates<br />
                <input type="button" Value="Import Transactions" onclick="importToggle('open')" /><br />
                <input type="button" value="Run Calculations" onclick="calculateDifference()" /><br />
                <input type="button" value="Clear Table" onclick="resetTable()" />
            </div>
            <div id="totals">
                <table>
                    <thead>
                        <tr>
                            <th>
                                Fees Collected
                            </th>
                            <th>
                                Total fees calculated
                            </th>
                            <th>
                                Total Difference
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>$0.00</td>
                            <td>$0.00</td>
                            <td>$0.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="popup1 hide">
            <div class="import">
                <input type="button" value="Import" onclick="buildObject()" /><input type="button" value="Close" onclick="importToggle('close')" />&nbsp;<span>Please paste copied data into the box below.</span><br />
                <textarea></textarea>
            </div>
        </div>
        <div class="popup2 hide">
            <div class="wait">
                <input id="closeDialogue" class="hide" type="button" value="Close" onclick="closeDialogue()" /><br />
                <p style="float:left;">Work is being done on the data you gave. Please wait.</p><img src="https://media1.giphy.com/media/RgzryV9nRCMHPVVXPV/giphy.webp?cid=790b7611c78zoxuecx3k2ayi4g3lljttqwh24v314n69ezbk&ep=v1_gifs_search&rid=giphy.webp&ct=g" style="
                width: 29px;float:left;"><br /><br />
                <div class="errorMessage"></div>
            </div>
        </div>
        <div class="video hide">
            <div class="my-player">
                <input type="button" value="Close" onclick="videoToggle('close')" /><br />
                <video
                    controls
                    style="width: 900px;"
                    controlslist="nodownload"
                >
                <source src="\Rain-Support-Tools\videos\feecalculatoroverview.mp4" type="video/mp4"></source>
                <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a
                    web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">
                    supports HTML5 video
                    </a>
                </p>
                </video>
            </div>
        </div>
    </body>
</html>