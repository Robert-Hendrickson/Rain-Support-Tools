<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/Rain-Support-Tools/css/site-fix.css" />
        <script src="https://kit.fontawesome.com/8e52a98e38.js" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <script src="/Rain-Support-Tools/common/actions/popup.js"></script>
        <script src="/Rain-Support-Tools/js/site-fix.js"></script>
    </head>
    <body>
        <div class="menu-wrapper">
            <div onclick="toggleNav()" id="nav-toggle">
                <span class="fa-solid fa-bars"></span>
            </div>
            <nav-menu></nav-menu>
            <script src="/Rain-Support-Tools/js/nav-builder.js"></script>
        </div>
        <div id="input-values">
            <table id="store_info">
                <tbody>
                    <tr>
                        <td>
                            <label>
                                CRM
                            </label>
                        </td>
                        <td>
                            <input id="crm_input" type="text" placeholder="Store ID" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>
                                Fix/Custom?
                            </label>
                        </td>
                        <td>
                            <select id="fix_or_custom">
                                <option value="none">Select an Option:</option>
                                <option value="Site Fix">Site Fix</option>
                                <option value="Custom Work">Custom Code</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table id="pages_info">
                <tbody>
                    <tr>
                        <td colspan="2">
                            <label>
                                Page(s) needing work
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td>Page URL/Screenshot</td>
                        <td>Description of work needed/Video(optional)</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <table id="page_list">
                                <tbody>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <input type="button" value="New Line" onclick="addPageLine()" />
        </div>
        <div style="width: 260px;" id="buttons">
            <input type="button" value="Generate" onclick="authenticateDate()" />
            <input type="button" value="Reset" onclick="location.pathname = '/Rain-Support-Tools/site-fix.html';" />
            <a href="/Rain-Support-Tools/"><input type="button" value="Home" /></a>
        </div>
        <div id="error_message" class="hide">
            <span onclick="$('#error_message').addClass('hide');">X</span>
            The following criteria must be met before generating ticket info:
            <ul>
                <li>
                    Store CRM must be filled out.
                </li>
                <li>
                    Type of work to be done
                </li>
                <li>
                    For each page needing work the following is required:
                    <ul>
                        <li>
                            Page URL
                        </li>
                        <li>
                            Description of work
                        </li>
                        <li>
                            Google Drive Link Screenshot of area
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="container generated_popup hide">
            <div id="generated_popup">
                <div>
                    <input type="button" value="Copy" onclick="copyTicket()" />
                    <input type="button" value="Close" onclick="$('.container.generated_popup').addClass('hide');" />
                </div>
                <div>
                    <textarea id="site-fix-ticket"></textarea>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function(){
                addPageLine();
            });
        </script>
    </body>
</html>